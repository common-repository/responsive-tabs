/**
 * Responsive Tabs Admin JS
 */
!function(c){c(document).ready(function(){var a;function s(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;")}a=jQuery.fn.clone,jQuery.fn.clone=function(){for(var t=a.apply(this,arguments),e=this.find("textarea").add(this.filter("textarea")),i=t.find("textarea").add(t.filter("textarea")),n=this.find("select").add(this.filter("select")),o=t.find("select").add(t.filter("select")),d=0,s=e.length;d<s;++d)c(i[d]).val(c(e[d]).val());for(d=0,s=n.length;d<s;++d)o[d].selectedIndex=n[d].selectedIndex;return t};var e=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function i(t){return isNaN(t)?"00":e[(t-t%16)/16]+e[t%16]}function n(){0<c(".dmb_main").not(".dmb_empty_row").length?c(".dmb_no_row_notice").hide():c(".dmb_no_row_notice").show()}function o(t,e){e=e||!1;var i=(t=t).closest(".dmb_main").find(".dmb_handle_title");cloneCopyText="",cloneCopyText=e?" copy":"",""!=t.val()?i.text(t.val()+cloneCopyText):i.text(objectL10n.untitled+cloneCopyText)}c(".dmb_color_picker").wpColorPicker(),c(".dmb_main").not(".dmb_empty_row").each(function(t,e){c(this).find(".dmb_tab_content").each(function(t,e){""==c.trim(c(this).text())?c(this).hide():c(this).show(),c(this).html(c.parseHTML(c(this).text()))})}),n(),c(".dmb_add_row").on("click",function(){var t=c(".dmb_empty_row").clone(!0);return t.removeClass("dmb_empty_row").addClass("dmb_main").show(),t.insertBefore(c(".dmb_empty_row")),t.find(".dmb_tab_title").focus(),t.find(".dmb_color_picker_ready").removeClass(".dmb_color_picker_ready").addClass(".dmb_color_picker").wpColorPicker().css({padding:"3px"}),t.find(".dmb_handle_title").text(objectL10n.untitled),t.find(".dmb_tab_content").hide(),n(),!1}),c(".dmb_remove_row_btn").click(function(t){return c(this).closest(".dmb_main").remove(),n(),!1}),c(".dmb_handle").click(function(t){return c(this).siblings(".dmb_inner").slideToggle(50),c(this).hasClass("closed")?c(this).removeClass("closed"):c(this).addClass("closed"),!1}),c(".dmb_collapse_rows").click(function(t){return c(".dmb_handle").each(function(t,e){c(this).closest(".dmb_empty_row").length||c(this).hasClass("closed")||(c(this).siblings(".dmb_inner").slideToggle(50),c(this).addClass("closed"))}),!1}),c(".dmb_expand_rows").click(function(t){return c(".dmb_handle").each(function(t,e){c(this).hasClass("closed")&&(c(this).siblings(".dmb_inner").slideToggle(50),c(this).removeClass("closed"))}),!1}),c(".dmb_move_row_down").click(function(t){return c(this).closest(".dmb_main").next().hasClass("dmb_main")&&(c(this).closest(".dmb_main").clone(!0).insertAfter(c(this).closest(".dmb_main").next()),c(this).closest(".dmb_main").remove()),!1}),c(".dmb_move_row_up").click(function(t){return c(this).closest(".dmb_main").prev().hasClass("dmb_main")&&(c(this).closest(".dmb_main").clone(!0).insertBefore(c(this).closest(".dmb_main").prev()),c(this).closest(".dmb_main").remove()),!1}),c(".dmb_clone_row").click(function(t){var e=c(this).closest(".dmb_main").clone(!0);return e.insertAfter(c(this).closest(".dmb_main")),e.find(".dmb_handle_title").text(e.find(".dmb_tab_title").val()+" (copy)"),e.find(".dmb_tab_title").focus(),o(e.find(".dmb_tab_title"),!0),n(),!1}),c(".dmb_main").not(".dmb_empty_row").each(function(t,e){""!=c(this).find(".dmb_tab_title").val()&&o(c(this).find(".dmb_tab_title"))}),c("body").on("keyup",".dmb_tab_title",function(t){o(c(this))}),c(".dmb_show_preview_tab_set").click(function(){var o={},t={},d="";o.breakpoint=c(".dmb_breakpoint").val(),o.color=function(t){if(t)return"#"+i((t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+i(t[2])+i(t[3])}(c(".wp-color-result").css("backgroundColor"))||"#8dba09",o.tabBackground=c("select[name='tabs_tbgs']").val(),t.tabCount=c(".dmb_main").not(".dmb_empty_row").length,d+='<div class="rtbs" style="margin-top:100px; margin-bottom:60px;">',d+='<div class="rtbs_breakpoint" style="display:none">'+o.breakpoint+"</div>",d+='<div class="rtbs_inactive_tab_background" style="display:none">'+o.tabBackground+"</div>",d+='<div class="rtbs_color" style="display:none">'+o.color+"</div>",d+='<div class="rtbs_menu">',d+='<ul><li class="mobile_toggle">&zwnj;</li>',c(".dmb_main").not(".dmb_empty_row").each(function(t,e){var i,n={};n.title=c(this).find(".dmb_tab_title").val(),n.content=c.trim(c(this).find(".dmb_tab_content").html())||"",0==t?(d+="<style>.rtbs li {font-size:15px;} .rtbs_content, .rtbs_content p {font-size:15px;}</style>",d+='<li class="current">',d+='<a style="background:'+o.color+'" class="active prev-tab-link-'+t+'" href="#" data-tab="#prev-tab-'+t+'">',i=c("<div>").text(n.title).html(),n.title?d+=s(i):d+="&nbsp;"):(d+='<li style="font-size:15px;">',d+='<a href="#" data-tab="#prev-tab-'+t+'" class="prev-tab-link-'+t+'">',t=c("<div>").text(n.title).html(),n.title?d+=s(t):d+="&nbsp;"),d+="</a>",d+="</li>"}),d+="</ul></div>",c(".dmb_main").not(".dmb_empty_row").each(function(t,e){var i={};i.title=c(this).find(".dmb_tab_title").val(),i.content=c.trim(c(this).find(".dmb_tab_content").html())||"",d+=0==t?'<div style="border-top:7px solid '+o.color+'; " id="prev-tab-'+t+'" class="rtbs_content active">':'<div style="border-top:7px solid '+o.color+'; " id="prev-tab-'+t+'" class="rtbs_content">',d+=i.content,d+='<div style="margin-top:30px; clear:both;"></div></div>'}),d+="</div>",d+='<div style="clear:both;"></div>',d+='<div class="dmb_accuracy_preview_notice">'+objectL10n.previewAccuracy+"</div>",0==t.tabCount?c("#dmb_preview_tabs").append('<div class="dmb_no_row_preview_notice">'+objectL10n.noTabNotice+"</div>"):c("#dmb_preview_tabs").append(d),c("#dmb_preview_tabs").fadeIn(100)}),c(".dmb_preview_tabs_close").click(function(){c("#dmb_preview_tabs .rtbs, .dmb_accuracy_preview_notice, .dmb_no_row_preview_notice").remove(),c("#dmb_preview_tabs").fadeOut(100)});var d="";c(".dmb_edit_tab_content").click(function(){c("#dmb_unique_editor").fadeIn(100),null!==tinymce.activeEditor&&tinymce.activeEditor.focus(),d=c(this).parent().find(".dmb_tab_content"),tinymce.get("dmb_editor").setContent(d.html())}),c(".dmb_ue_update").click(function(){var t;return(t=c("#wp-dmb_editor-wrap").hasClass("tmce-active")?tinymce.activeEditor.getContent():c("#dmb_editor").val())?d.show():d.hide(),d.html(c.parseHTML(t)),d.siblings(".biofield").val(t),c("#dmb_unique_editor").fadeOut(100),null!==tinymce.activeEditor&&tinymce.activeEditor.setContent(""),!1}),c(".dmb_ue_cancel").click(function(){c("#dmb_unique_editor").fadeOut(100)})})}(jQuery);